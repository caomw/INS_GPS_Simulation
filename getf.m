function F = getf(fn,vel,cbn0,L)
%GETF 此处显示有关此函数的摘要
%   此处显示详细说明
    global Rm;
    global weie;
    Ta = 1/3600;
    Tg = Ta;
    F = zeros(18,18);
    ve = vel(1);vn = vel(2);vu = vel(3);
    fx = fn(1);fy = fn(2);fz = fn(3);
    F(1,3) = -vn/Rm^2;
    F(1,5) = 1/Rm;
    F(2,1) = ve/Rm*tan(L)/cos(L);
    F(2,3) = -ve/cos(L)/Rm^2;
    F(2,4) = 1/Rm/cos(L);
    F(3,6) = 1;
    F(4,1) = 2*weie*cos(L)*vn + ve*vn/cos(L)^2/Rm + 2*weie*sin(L)*vu;
    F(4,3) = (ve*vu - ve*vn*tan(L))/Rm^2;
    F(4,4) = vn*tan(L)/Rm - vu/Rm;
    F(4,5) = 2*weie*sin(L) + ve*tan(L)/Rm;
    F(4,6) = -(2*weie*cos(L) + ve/Rm);
    F(4,8) = -fz;
    F(4,9) = fy;
    F(4,16) = cbn0(1,1);
    F(4,17) = cbn0(1,2);
    F(4,18) = cbn0(1,3);
    F(5,1) = -(2*weie*cos(L)*ve + ve*ve/cos(L)^2/Rm);
    F(5,3) = (ve*ve*tan(L) + vn*vu)/Rm^2;
    F(5,4) = -2*(weie*sin(L) + ve*tan(L)/Rm);
    F(5,5) = -vu/Rm;
    F(5,6) = -vn/Rm;
    F(5,7) = fz;
    F(5,9) = -fx;
    F(5,16) = cbn0(2,1);
    F(5,17) = cbn0(2,2);
    F(5,18) = cbn0(2,3);
    F(6,1) = -2*weie*ve*sin(L);
    F(6,3) = -(ve*ve + vn*vn)/Rm^2;
    F(6,4) = 2*(weie*cos(L) + ve/Rm);
    F(6,5) = 2*vn/Rm;
    F(6,7) = -fy;
    F(6,8) = fx;
    F(6,16) = cbn0(3,1);
    F(6,17) = cbn0(3,2);
    F(6,18) = cbn0(3,3);
    F(7,3) = vn/Rm^2;
    F(7,5) = -1/Rm;
    F(7,8) = weie*sin(L) + ve*tan(L)/Rm;
    F(7,9) = -(weie*cos(L) + ve/Rm);
    F(7,10) = cbn0(1,1);
    F(7,11) = cbn0(1,2);
    F(7,12) = cbn0(1,3);
    F(7,13) = cbn0(1,1);
    F(7,14) = cbn0(1,2);
    F(7,15) = cbn0(1,3);
    F(8,1) = -weie*sin(L);
    F(8,3) = -ve/Rm^2;
    F(8,4) = 1/Rm;
    F(8,7) = -(weie*sin(L) + ve*tan(L)/Rm);
    F(8,9) = -vn/Rm;
    F(8,10) = cbn0(2,1);
    F(8,11) = cbn0(2,2);
    F(8,12) = cbn0(2,3);
    F(8,13) = cbn0(2,1);
    F(8,14) = cbn0(2,2);
    F(8,15) = cbn0(2,3);
    F(9,1) = weie*cos(L) + ve/cos(L)^2/Rm;
    F(9,3) = -ve*tan(L)/Rm^2;
    F(9,4) = tan(L)/Rm;
    F(9,7) = weie*cos(L) + ve/Rm;
    F(9,8) = vn/Rm;
    F(9,10) = cbn0(3,1);
    F(9,11) = cbn0(3,2);
    F(9,12) = cbn0(3,3);
    F(9,13) = cbn0(3,1);
    F(9,14) = cbn0(3,2);
    F(9,15) = cbn0(3,3);
    F(13:18,13:18) = diag([-Tg -Tg -Tg -Ta -Ta -Ta]);
%     F(1,1) = (vy*tan(L) - vz)/Rn;
%     F(1,2) = 2*weie*sin(L) + vx*tan(L)/Rn;
%     F(1,3) = -(2*weie*cos(L) + vx/Rn);
%     F(1,5) = -fz;
%     F(1,6) = fy;
%     F(1,7) = 2*weie*(vz*sin(L) + vy*cos(L)) +vx*vy/Rn/cos(L)^2;
%     F(2,1) = -(2*vx*tan(L)/Rn + 2*weie*sin(L));
%     F(2,2) = -vz/Rm;
%     F(2,3) = -vy/Rm;
%     F(2,4) = fz;
%     F(2,6) = -fx;
%     F(2,7) = -(2*weie*cos(L) + vx/Rn/cos(L)^2)*vx;
%     F(3,1) = 2*weie*cos(L) + 2*vx/Rn;
%     F(3,2) = 2*vy/Rm;
%     F(3,4) = -fy;
%     F(3,5) = fx;
%     F(3,7) = -2*weie*vx*sin(L);
%     F(3,9) = 2*g0/Rm;
%     F(4,2) = -1/Rm;
%     F(4,5) = weie*sin(L) + vx*tan(L)/Rn;
%     F(4,6) = -weie*cos(L) - vx/Rn;
%     F(4,9) = vy/Rm^2;
%     F(5,1) = 1/Rn;
%     F(5,4) = -weie*sin(L) - vx*tan(L)/Rn;
%     F(5,6) = -vy/Rm;
%     F(5,7) = -weie*sin(L);
%     F(5,9) = -vx/Rm^2;
%     F(6,1) = tan(L)/Rn;
%     F(6,4) = weie*cos(L) + vx/Rn;
%     F(6,5) = vy/Rm;
%     F(6,7) = weie*cos(L) + vx/cos(L)^2/Rn;
%     F(6,9) = -vx*tan(L)/Rm^2;
%     F(7,2) = 1/Rm;
%     F(8,1) = 1/cos(L)/Rn;
%     F(8,7) = vx/cos(L)*tan(L)/Rn;
%     F(9,3) = 1;
%     F(1:3,13:15) = cbn0;
%     F(4:6,10:12) = cbn0;
%     F(10:15,10:15) = diag([-Tg -Tg -Tg -Ta -Ta -Ta]);
    
end

